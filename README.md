# Тестовое задание
#### Постановка задачи

Разработать информационную систему **"Курсы валют"** для функционирования в среде Интернет

#### Требования

Разрабатываемая информационная система должна:
1. Осуществлять загрузку и хранение курсов валют с [Сайта ЦБ РФ](https://www.cbr.ru/development/sxml) в ручном 
и автоматическом режиме
2. Отображать курсы валют в форме таблицы с постраничным выводом и возможностью сортировки и фильтрации
по валюте и дате курса.
3. Отображать динамики изменения курса в форме графика за определённый период времени.
4. Сохранять отчет за период времени в формате JSON

*Дополнительные требования*:
* программный код необходимо задокументировать (включая описания требований к среде исполнения, а также
инструкции по развертыванию). Результат должет быть представлен в виде git репозитория и размещен на публичном хостинге
исходного кода (напр. [Github .inc](https://github.com))

*Дополнительные требования от **25.11.2019**:*
1. UI
* При выборе интервала дат для чарта должны автоматически подгружаться отсутствующие котировки.
* Сервис должен ограничивать интервал допустимых дат для чарта. Рекомендуется использовать методы средних
значений по неделям/месяцам/годам
* Исключить присутствие JSON на странице. Отвязать период отчета от чарта.
* Реализовать возможность построения отчета по котировкам нескольких валют на определенную дату или интервал дат.

2. Исходный код
* Написать документацию для проекта, используя JSDoc
* Вынести в отдельный файл настройки сервиса
* Использовать redux

3. База данных
* Отказаться от использования различных хранилищ в проекте.
* Взаимодействие с хранилищем (базой данных) осуществлять посредством ODM/ORM библиотеки(фреймворка)

*Замечания от **25.11.2019**:*
1. Код
* Провести декомпозицию и рефакторинг react-app/component/App.js (выделить компоненты)
* Провести декомпозицию и рефакторинг исходного кода серверной части. Выделить отдельные классы - http, роутинг, 
взаимодействие



#### Требования к среде исполнения
##### Поддерживаемые операционные системы
* Windows
* macOS
* Linux
##### Поддерживаемые браузеры (ES6)

| Браузер | Версия |
| ------- |:------:|
| Chrome  |  `51`  |
| Firefox |  `54`  |
| Edge    |  `14`  |
| Safari  |  `10`  |
| Opera   |  `38`  |
| IE      |  `11`\*  |

\* *поддержка IE11 осуществляется не полностью (не работает автоматическое обновление графика при загрузке курсов валют*

Для работы настоящего веб-приложения требуется программная платформа [Node.js >= v.12.2.0](https://nodejs.org)

* [Windows `x64`](https://nodejs.org/download/release/v12.2.0/node-v12.2.0-x64.msi)
* [Windows `x86`](https://nodejs.org/download/release/v12.2.0/node-v12.2.0-x86.msi)
* [Linux, macOS `nvm`](https://github.com/nvm-sh/nvm)

#### Конфигурация веб-приложения

Конфигурация веб-приложения осуществляется в файле *server.config.js*

1. **server** - настройки работы сервера
* *interval* - минимальный интервал направления запросов на сервер ЦБ РФ (время в мс.)
* *noQueue*  - учитывать минимальный интервал направления запросов на сервер ЦБ РФ (*true*|*false*)

2. **mongodb** - настройка базы данных
* *hostname* - доменное имя (FQDN) сервера баз данных, на котором развернуто MongoDB (напр. *localhost*)
* *port* - порт сервера баз данных MongoDB (number, напр. 27017)
* *dbname* - имя базы данных (коллекции)

3. **agenda** - настройки планировщика задач *Agenda*
* *collectionName* - наименование коллекции, которую будет использовать планировкщих в базе данных
из параметра *mongodb.dbname*
* *agendashUrl* - путь, по которому будет доступен веб-интерфейс для просмотра очереди задач планировщика
на загрузку сведений с ЦБ РФ
* *endDate* - начальная дата

#### Развертывание веб-приложения

Для развертывания веб-приложения на сервере необходимо
```
git clone https://github.com/webvalera96/currency-rates.git
cd currency-rates
npm install
npm run-script build
npm run-script jsdoc
npm start
```
Веб приложение доступно по адресу [http://<your_domain_name>:3000](http://localhost:3000)
